(this["webpackJsonpcsv-reader"]=this["webpackJsonpcsv-reader"]||[]).push([[0],{40:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(8),s=n.n(r),a=(n(40),n(32),n(7),n(17),n(9)),i=n.n(a),o=n(10),l=n(6),u=n(77),j=(n(19),n(12)),p=n.n(j),d=n(4),f=n(3);function b(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)([]),j=Object(l.a)(a,2),b=j[0],h=j[1],m=Object(c.useState)([]),O=Object(l.a)(m,2),x=O[0],v=O[1],g=Object(c.useState)({}),k=Object(l.a)(g,2),y=k[0],w=k[1],P=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(r);case 2:t=e.sent,h(t[0]),N(t[0],t.slice(1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e,t){var n=t.map((function(t){var n=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;if(c<=3){var r=t[c];2===c&&r,"Job roles"===n.trim()&&(r=(r=(r=r||"").split(",")).map((function(e){return e.replace("\t","").trim()}))),"Product"===n&&(r=(r=r.split(",")).map((function(e){return e.trim()}))),e[n]=r}return e}),{});return n}));v(n);var c={};t.forEach((function(t){e.forEach((function(e,n){if(n<=3){if(0===n&&(c[t[0]]||(c[t[0]]={})),1===n&&(0===Object.keys(c[t[0]]).length||c[t[0]].keys&&!c[t[0]][t[1]])&&(c[t[0]][t[1]]={}),"Product"===e){var r=t[n];r=(r=r.split(",")).map((function(e){return e.trim()})),c[t[0]][t[1]]&&(c[t[0]][t[1]].Product=r)}if("Job roles"===e.trim()){var s=t[n]||"";s=(s=s.split(",")).map((function(e){return e.trim()})),c[t[0]][t[1]]&&(c[t[0]][t[1]].Jobs=s)}}}))})),w(c)};console.log("csvArray",x),console.log("stepsObject",y);var S=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("talentProfileFile",r),t.append("steps",JSON.stringify(y)),e.prev=3,e.next=6,p.a.post("".concat("https://eas-works.herokuapp.com","/api/talentProfile/setTalentProfileSteps"),t);case 6:n=e.sent,console.log("file upload",n.data.talentProfileUpload),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("form",{id:"csv-form",className:"col-xs-9",children:Object(f.jsxs)(d.b,{className:"mt-5",children:[Object(f.jsxs)(d.f,{className:"justify-content-center mb-3",children:[Object(f.jsx)(d.a,{sm:10,children:Object(f.jsx)(d.d,{name:"file",type:"file",accept:".xlsx",id:"csvFile",onClick:function(e){v([])},onChange:function(e){s(e.target.files[0])}})}),Object(f.jsx)(d.a,{sm:"auto",className:"p-0",children:Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),r&&P()},style:{padding:"5px"},children:"Upload Excel"})})]}),x.length>0&&Object(f.jsx)(d.f,{className:"justify-content-center mb-3",children:Object(f.jsx)(d.a,{xs:1,children:Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),S()},style:{padding:"5px"},children:"Submit"})})})]})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),x.length>0?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(d.g,{bordered:!0,striped:!0,hover:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{className:"question-header",children:b.map((function(e,t){return Object(f.jsx)("th",{children:e},t)}))})}),Object(f.jsx)("tbody",{children:x.map((function(e,t){return Object(f.jsx)("tr",{children:b.map((function(t,n){return n<=3?Object(f.jsx)("td",{children:e[b[n]]}):null}))},t)}))})]})}):null]})}n(68);console.log("REACT_APP_SERVER_URL","https://eas-works.herokuapp.com");var h=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(b,{})})};n(69);s.a.render(Object(f.jsx)(h,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.fece2ccb.chunk.js.map