(this["webpackJsonpcsv-reader"]=this["webpackJsonpcsv-reader"]||[]).push([[0],{42:function(e,t,r){},70:function(e,t,r){},72:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(8),o=r.n(c),a=(r(42),r(31),r(7),r(19),r(11)),s=r(6),i=r(10),l=r.n(i),u=r(79),d=(r(21),r(13)),f=r.n(d),j=r(4),b=r(3);var p=r(9);function x(e){var t=Object(n.useState)(),r=Object(s.a)(t,2),c=r[0],o=r[1],i=Object(n.useState)([]),d=Object(s.a)(i,2),x=d[0],O=d[1],h=Object(n.useState)([]),m=Object(s.a)(h,2),P=m[0],v=m[1],g=Object(n.useState)({}),y=Object(s.a)(g,2),S=y[0],M=y[1],R=function(){var e=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(c);case 2:t=e.sent,O(t[0]),k(t[0],t.slice(1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e,t){var r=t.map((function(t){var r=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(n<=4){var c=t[n];2===n&&c,"Job roles"===r.trim()&&(c=(c=(c=c||"").split(",")).map((function(e){return e.replace("\t","").trim()}))),"Product"===r&&(c=(c=c.split(",")).map((function(e){return{name:e.trim(),imageUrl:""}}))),e[r]=c}return e}),{});return r}));v(r);var n={};r.forEach((function(e){var t;if(0!==Object.keys(n).length&&n.hasOwnProperty([e["Role-Prefix and Product-Suffix"]]))if(n[e["Role-Prefix and Product-Suffix"]]["Primary Domain"]=e["Primary Domain"],0!==Object.keys(n[e["Role-Prefix and Product-Suffix"]]).length&&n[e["Role-Prefix and Product-Suffix"]].hasOwnProperty("Modules"))if(n[e["Role-Prefix and Product-Suffix"]].Modules.hasOwnProperty(e.Modules)){var r=e.Product.filter((function(t){return n[e["Role-Prefix and Product-Suffix"]].Modules[e.Modules].Product.some((function(e){return e.name===t.name}))}));n[e["Role-Prefix and Product-Suffix"]].Modules[e.Modules].Product.push(r);e["Job roles"].filter((function(t){return n[e["Role-Prefix and Product-Suffix"]].Modules[e.Modules]["Job roles"].includes(t)}))}else n[e["Role-Prefix and Product-Suffix"]].Modules[e.Modules]=Object(p.a)({Product:e.Product},"Job roles",e["Job roles"]);else n[e["Role-Prefix and Product-Suffix"]].Modules=Object(p.a)({},e.Modules,Object(p.a)({Product:e.Product},"Job roles",e["Job roles"]));else n[e["Role-Prefix and Product-Suffix"]]=(t={},Object(p.a)(t,"Primary Domain",e["Primary Domain"]),Object(p.a)(t,"Modules",Object(p.a)({},e.Modules,Object(p.a)({Product:e.Product},"Job roles",e["Job roles"]))),t)})),console.log("objFinal",n),M(n)};console.log("csvArray",P),console.log("stepsObject",S);var w=function(){var e=Object(a.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("talentProfileFile",c),t.append("steps",JSON.stringify(S)),e.prev=3,e.next=6,f.a.post("".concat("https://eas-works.herokuapp.com","/api/talentProfile/setTalentProfileSteps"),t);case 6:r=e.sent,console.log("file upload",r.data.talentProfileUpload),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("form",{id:"csv-form",className:"col-xs-9",children:Object(b.jsxs)(j.b,{className:"mt-5",children:[Object(b.jsxs)(j.f,{className:"justify-content-center mb-3",children:[Object(b.jsx)(j.a,{sm:10,children:Object(b.jsx)(j.d,{name:"file",type:"file",accept:".xlsx",id:"csvFile",onClick:function(e){v([])},onChange:function(e){o(e.target.files[0])}})}),Object(b.jsx)(j.a,{sm:"auto",className:"p-0",children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),c&&R()},style:{padding:"5px"},children:"Upload Excel"})})]}),P.length>0&&Object(b.jsx)(j.f,{className:"justify-content-center mb-3",children:Object(b.jsx)(j.a,{xs:1,children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),w()},style:{padding:"5px"},children:"Submit"})})})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),P.length>0?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.g,{bordered:!0,striped:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{className:"question-header",children:x.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))})}),Object(b.jsx)("tbody",{children:P.map((function(e,t){return Object(b.jsx)("tr",{children:x.map((function(t,r){return r<=4?"Product"===t?Object(b.jsx)("td",{children:e[x[r]].map((function(e){return e.name}))}):Object(b.jsx)("td",{children:e[x[r]]}):null}))},t)}))})]})}):null]})}r(70);console.log("REACT_APP_SERVER_URL","https://eas-works.herokuapp.com");var O=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x,{})})};r(71);o.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.c1db6055.chunk.js.map