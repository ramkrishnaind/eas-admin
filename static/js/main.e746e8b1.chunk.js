(this["webpackJsonpcsv-reader"]=this["webpackJsonpcsv-reader"]||[]).push([[0],{41:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(8),a=n.n(c),s=(n(41),n(30),n(7),n(18),n(10)),i=n(6),o=n(9),l=n.n(o),u=n(78),j=(n(20),n(12)),p=n.n(j),d=n(4),f=n(3);function b(e){var t=Object(r.useState)(),n=Object(i.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)([]),j=Object(i.a)(o,2),b=j[0],h=j[1],m=Object(r.useState)([]),O=Object(i.a)(m,2),x=O[0],v=O[1],g=Object(r.useState)({}),k=Object(i.a)(g,2),y=k[0],P=k[1],w=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(c);case 2:t=e.sent,h(t[0]),N(t[0],t.slice(1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e,t){var n=t.map((function(t){var n=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(r<=4){var c=t[r];3===r&&c,"Job roles"===n.trim()&&(c=(c=(c=c||"").split(",")).map((function(e){return e.replace("\t","").trim()}))),"Product"===n&&(c=(c=c.split(",")).map((function(e){return{name:e.trim(),imageUrl:""}}))),e[n]=c}return e}),{});return n}));v(n);var r={};t.forEach((function(t){e.forEach((function(e,n){if(n<=4){if(1===n&&(r[t[0]]||(r[t[0]]={})),2===n&&(0===Object.keys(r[t[0]]).length||r[t[0]].keys&&!r[t[0]][t[1]])&&(r[t[0]][t[1]]={}),"Product"===e){var c=t[n];c=(c=c.split(",")).map((function(e){return{name:e.trim(),imageUrl:""}})),r[t[0]][t[1]]&&(r[t[0]][t[1]].Product=c)}if("Job roles"===e.trim()){var a=t[n]||"";a=(a=a.split(",")).map((function(e){return e.trim()})),r[t[0]][t[1]]&&(r[t[0]][t[1]].Jobs=a)}}}))})),P(r)};console.log("csvArray",x),console.log("stepsObject",y);var S=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("talentProfileFile",c),t.append("steps",JSON.stringify(y)),e.prev=3,e.next=6,p.a.post("".concat("https://eas-works.herokuapp.com","/api/talentProfile/setTalentProfileSteps"),t);case 6:n=e.sent,console.log("file upload",n.data.talentProfileUpload),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("form",{id:"csv-form",className:"col-xs-9",children:Object(f.jsxs)(d.b,{className:"mt-5",children:[Object(f.jsxs)(d.f,{className:"justify-content-center mb-3",children:[Object(f.jsx)(d.a,{sm:10,children:Object(f.jsx)(d.d,{name:"file",type:"file",accept:".xlsx",id:"csvFile",onClick:function(e){v([])},onChange:function(e){a(e.target.files[0])}})}),Object(f.jsx)(d.a,{sm:"auto",className:"p-0",children:Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),c&&w()},style:{padding:"5px"},children:"Upload Excel"})})]}),x.length>0&&Object(f.jsx)(d.f,{className:"justify-content-center mb-3",children:Object(f.jsx)(d.a,{xs:1,children:Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),S()},style:{padding:"5px"},children:"Submit"})})})]})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),x.length>0?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(d.g,{bordered:!0,striped:!0,hover:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{className:"question-header",children:b.map((function(e,t){return Object(f.jsx)("th",{children:e},t)}))})}),Object(f.jsx)("tbody",{children:x.map((function(e,t){return Object(f.jsx)("tr",{children:b.map((function(t,n){return n<=4?"Product"===t?Object(f.jsx)("td",{children:e[b[n]].map((function(e){return e.name}))}):Object(f.jsx)("td",{children:e[b[n]]}):null}))},t)}))})]})}):null]})}n(69);console.log("REACT_APP_SERVER_URL","https://eas-works.herokuapp.com");var h=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(b,{})})};n(70);a.a.render(Object(f.jsx)(h,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.e746e8b1.chunk.js.map