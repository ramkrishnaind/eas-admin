(this["webpackJsonpcsv-reader"]=this["webpackJsonpcsv-reader"]||[]).push([[0],{40:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(8),s=n.n(r),a=(n(40),n(32),n(7),n(18),n(9)),i=n.n(a),l=n(10),o=n(6),u=n(77),j=(n(17),n(12)),p=n.n(j),d=n(4),b=n(3);function f(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)([]),j=Object(o.a)(a,2),f=j[0],h=j[1],O=Object(c.useState)([]),x=Object(o.a)(O,2),m=x[0],v=x[1],g=Object(c.useState)({}),k=Object(o.a)(g,2),y=k[0],w=k[1],N=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(r);case 2:t=e.sent,h(t[0]),P(t[0],t.slice(1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e,t){var n=t.map((function(t){var n=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;if(c<=3){var r=t[c];"Top Products"===n&&(r=(r=r.split(",")).map((function(e){return e.trim()}))),e[n]=r}return e}),{});return n}));v(n);var c={};t.forEach((function(t){e.forEach((function(e,n){if(n<=3){if(0===n){var r=t[0];null===r||0!==Object.keys(c).length&&c[r]||(c[r]={})}if(1===n&&(null!==t[0]?c[t[0]][t[1]]&&0!==Object.keys(c[t[0]]).length||(c[t[0]][t[1]]={}):c[t[1]]||(c[t[1]]={})),2===n&&(null!==t[0]?c[t[0]][t[1]][t[2]]&&0!==Object.keys(c[t[0]][t[1]]).length||(c[t[0]][t[1]][t[2]]={}):(0===Object.keys(c[t[1]]).length||c[t[1]].keys&&!c[t[1]][t[2]])&&(c[t[1]][t[2]]={})),"Top Products"===e){var s=t[n];s=(s=s.split(",")).map((function(e){return e.trim()})),null!==t[0]?c[t[0]][t[1]][t[2]]=s:c[t[1]][t[2]]=s}}}))})),w(c)};console.log("csvArray",m);var S=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("talentProfileFile",r),t.append("steps",JSON.stringify(y)),e.prev=3,e.next=6,p.a.post("".concat("https://eas-works.herokuapp.com","/api/talentProfile/setTalentProfileSteps"),t);case 6:n=e.sent,console.log("file upload",n.data.talentProfileUpload),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("form",{id:"csv-form",className:"col-xs-9",children:Object(b.jsxs)(d.b,{className:"mt-5",children:[Object(b.jsxs)(d.f,{className:"justify-content-center mb-3",children:[Object(b.jsx)(d.a,{sm:10,children:Object(b.jsx)(d.d,{name:"file",type:"file",accept:".xlsx",id:"csvFile",onClick:function(e){v([])},onChange:function(e){s(e.target.files[0])}})}),Object(b.jsx)(d.a,{sm:"auto",className:"p-0",children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),r&&N()},style:{padding:"5px"},children:"Upload Excel"})})]}),m.length>0&&Object(b.jsx)(d.f,{className:"justify-content-center mb-3",children:Object(b.jsx)(d.a,{xs:1,children:Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),S()},style:{padding:"5px"},children:"Submit"})})})]})}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),m.length>0?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(d.g,{bordered:!0,striped:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsx)("tr",{className:"question-header",children:f.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))})}),Object(b.jsx)("tbody",{children:m.map((function(e,t){return Object(b.jsx)("tr",{children:f.map((function(t,n){return n<=3?Object(b.jsx)("td",{children:e[f[n]]}):null}))},t)}))})]})}):null]})}n(68);console.log("REACT_APP_SERVER_URL","https://eas-works.herokuapp.com");var h=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(f,{})})};n(69);s.a.render(Object(b.jsx)(h,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.1de0f8c1.chunk.js.map