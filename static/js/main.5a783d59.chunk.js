(this["webpackJsonpcsv-reader"]=this["webpackJsonpcsv-reader"]||[]).push([[0],{26:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(4),r=n.n(a),s=(n(26),n(15)),o=n(7),i=n(14),l=n(12),u=n.n(l),j=n(16),b=n(6),O=n(48),f=n(13),d=n.n(f),h=n(5),m=n(3);function g(e){var t=Object(c.useState)(),n=Object(b.a)(t,2),a=n[0],r=n[1],l=Object(c.useState)([]),f=Object(b.a)(l,2),g=f[0],p=f[1],x=Object(c.useState)([]),v=Object(b.a)(x,2),w=v[0],C=v[1],L=Object(c.useState)([]),k=Object(b.a)(L,2),N=k[0],S=k[1],T=Object(c.useState)([]),y=Object(b.a)(T,2),A=y[0],D=y[1],E=Object(c.useState)(),F=Object(b.a)(E,2),q=F[0],J=F[1],Q=Object(c.useState)(),B=Object(b.a)(Q,2),I=B[0],R=B[1],z=Object(c.useRef)(),G=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(a);case 2:t=e.sent,console.log("** Done **",t),p(t[0]),n=[],t[0].forEach((function(e){(e=e||"").toLowerCase().includes("option ")&&n.push(e.toLowerCase().replace("option ","").toLowerCase())})),S(n),U(t[0],t.slice(1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(c.useCallback)((function(e,t){var n=q?Object(i.a)({},q):{};n[e]=n[e].filter((function(e,n){return n!==t})),J(n)}),[q]),K=Object(c.useCallback)((function(e,t){var n=q?Object(i.a)({},q):{},c=Object(o.a)(A);c.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))||(c[c.length]=t,D(c)),n[e].some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))||(n[e]=[].concat(Object(o.a)(n[e]),[t]),J(n))}),[q]),M=Object(c.useCallback)((function(e){var t=I?Object(o.a)(I):[];t.filter((function(t,n){return n!==e})),Object(s.a)("prevTags"),R(t)}),[q]),P=Object(c.useCallback)((function(e){var t=I?Object(o.a)(I):[],n=Object(o.a)(A);n.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))||(n[n.length]=e,D(n)),t.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))||(t=[].concat(Object(o.a)(t),[e]),R(t))}),[I]),U=function(e,t){var n=t.map((function(t){var n=e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,a=t[c];return"Answers"===n&&(a=(a=a.split(",")).map((function(e){return e.trim()})),e.single=1===a.length),"Tags"===n&&a&&(a=(a=a.split(",")).map((function(e){return e.trim()}))),e[n]=a,e}),{});return n}));C(n);var c={};n.map((function(e,t){if(e&&e.Tags){var n=e.Tags.map((function(e,t){return{id:t,name:e}}));c[t]=n}else c[t]=[]}));var a=[];n.forEach((function(e,t){e.Tags&&e.Tags.length>0&&e.Tags.forEach((function(e){a.some((function(t){return t.name===e}))||a.push({id:a.length,name:e})}))})),D(a),R(a),J(c)};console.log("tagsList",A),console.log("tags",q);return console.log(g),console.log("csvArray",w),console.log(w.length>0),console.log("options",N),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("form",{id:"csv-form",className:"col-xs-9",children:Object(m.jsxs)(h.b,{className:"mt-5",children:[Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.a,{sm:11,children:Object(m.jsx)(h.c,{name:"file",type:"file",accept:".xlsx",id:"csvFile",onClick:function(e){return C([])},onChange:function(e){r(e.target.files[0])}})}),Object(m.jsx)(h.a,{sm:1,children:Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),a&&G()},className:"col-xs-2",children:"Submit"})})]}),A&&A.length>0&&Object(m.jsx)(h.d,{children:Object(m.jsx)(d.a,{ref:z,minQueryLength:1,tags:I||[],allowNew:!0,suggestions:A||[],onDelete:M,onAddition:P})})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),w.length>0?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(h.e,{bordered:!0,striped:!0,hover:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{className:"question-header",children:g.map((function(e,t){return Object(m.jsx)("th",{children:e})}))})}),Object(m.jsx)("tbody",{children:w.map((function(e,t){return Object(m.jsx)("tr",{children:g.map((function(n,c){return 0===c?Object(m.jsx)("td",{className:"question-first-col",children:e[g[c]]}):"Tags"===n?Object(m.jsx)("td",{children:Object(m.jsx)(d.a,{ref:z,minQueryLength:1,tags:q?q[t]:[],allowNew:!0,suggestions:A||[],onDelete:H.bind(null,t),onAddition:K.bind(null,t)})}):Object(m.jsx)("td",{children:e[g[c]]})}))},t)}))})]})}):null]})}n(38);var p=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(g,{})})};n(39);r.a.render(Object(m.jsx)(p,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5a783d59.chunk.js.map